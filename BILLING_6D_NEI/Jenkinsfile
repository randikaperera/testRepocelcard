pipeline {
    agent any 
    stages {
        stage('Build') { 
            steps {
				script{
					ws('.'){
						checkout scm
						sh 'curl -u admin:password http://172.16.101.15:8081/artifactory/wso2-keystore/QA/wso2carbon.jks -o wso2carbon.jks'
						sh './gradlew buildWSO2 --stacktrace'
					}
				}
            }
        }
		stage('Deploy') { 
            steps {
                sh './gradlew deployLocal'
            }
        }
       
    }
}